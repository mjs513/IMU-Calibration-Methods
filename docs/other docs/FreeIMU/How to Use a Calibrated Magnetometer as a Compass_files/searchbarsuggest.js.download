(()=>{"use strict";var e=window;function t(e,t){return t.replace(new RegExp(e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gi"),(function(e){return"<span class='search__highlight'>".concat(e,"</span>")}))}function n(e,t){var n=document.createElement("ul");n.className=t;var r=document.createElement("li");r.className="search__group-title";for(var a=0,i=e;a<i.length;a++){var o=i[a],u=document.createElement("div");u.innerHTML=o,r.appendChild(u)}return n.appendChild(r),n}function r(e,n,r){var a=document.createElement("li"),i=document.createElement("a");i.href=e;for(var o=0,u=n;o<u.length;o++){var c=u[o],l=document.createElement("div");l.innerHTML=t(r,c),i.appendChild(l)}return a.appendChild(i),a}function a(e,t){if(advSearch){for(var a=n([advSearch.ManufacturerPartNumberTitle,advSearch.DigiKeyPartNumberTitle],"search__suggestions--part-number"),i=0,o=e.options;i<o.length;i++){var u=o[i],c=r(u.navigationUrl,[u.manufacturerProductNumber,u.digiKeyProductNumber],t);a.appendChild(c)}return a}return null}function i(e,t){if(advSearch){for(var a=n([advSearch.CategoryTitle],"search__suggestions"),i=0,o=e.options;i<o.length;i++){var u=o[i],c=r(u.navigationUrl,[u.category],t);a.appendChild(c)}return a}return null}function o(t,n){if(n.length>2&&n.length<=50){var r=new XMLHttpRequest,o=window.__headerData.lang;o||(o="en");var u="".concat(advSearch.SuggestionUrl,"?keywordPrefix=").concat(encodeURIComponent(n),"&maxSuggestions=5");r.open("GET",u,!0),r.setRequestHeader("x-Currency",e.__headerData.cur),r.setRequestHeader("site",e.__headerData.site),r.setRequestHeader("lang",e.__headerData.lang);var c=null;r.onreadystatechange=function(){if(4===this.readyState&&200==this.status){try{e=JSON.parse(this.responseText),c=[{id:"CATEGORIES",options:e.suggestedCategories},{id:"MANUFACTURERS",options:e.suggestedManufacturers},{id:"PRODUCTS",options:e.suggestedProductNumbers},{id:"ARTICLES",options:e.suggestedArticles}].filter((function(e){return e.options&&e.options.length}))}catch(e){}null!=c&&function(e,t,n){e.innerHTML="";for(var r,o=null,u=0,c=n;u<c.length;u++){var l=c[u];"PRODUCTS"===l.id&&(r=a(l,t)),"CATEGORIES"===l.id&&(o=i(l,t))}r&&e.appendChild(r),o&&e.appendChild(o)}(t,n,c)}var e},r.send()}}function u(e){var t=e.parentElement;if(t){var n=t.querySelector("#suggested-search");n&&(n.className="",n.innerHTML="")}}var c=function(e,t,n){var r,a,i;void 0===t&&(t=50),void 0===n&&(n={});var o=null!=(r=n.isImmediate)&&r,u=null!=(a=n.callback)&&a,c=n.maxWait,l=Date.now(),d=[];function s(){if(void 0!==c){var e=Date.now()-l;if(e+t>=c)return c-e}return t}var v=function(){var t=[].slice.call(arguments),n=this;return new Promise((function(r,a){var c=o&&void 0===i;if(void 0!==i&&clearTimeout(i),i=setTimeout((function(){if(i=void 0,l=Date.now(),!o){var r=e.apply(n,t);u&&u(r),d.forEach((function(e){return(0,e.resolve)(r)})),d=[]}}),s()),c){var v=e.apply(n,t);return u&&u(v),r(v)}d.push({resolve:r,reject:a})}))};return v.cancel=function(e){void 0!==i&&clearTimeout(i),d.forEach((function(t){return(0,t.reject)(e)})),d=[]},v}((function(e){var t=e.parentElement;if(t){var n=t.querySelector("#suggested-search");n&&(n.className="active",o(t.querySelector(".active"),e.value))}}),500);e.searchBarModule=function(){for(var e=document.querySelectorAll(".header__searchbar"),t=0;t<e.length;t++)!function(){var e=document.querySelectorAll(".search-button")[t],n=document.querySelectorAll(".search-textbox")[t];function r(e){e.preventDefault();var t=searchOptions.filter((function(e){return e.IsSelected}))[0].Value.replace("{0}",encodeURIComponent(n.value));"undefined"!=typeof utag&&void 0!==utag.dkCookie&&utag.dkCookie("ref_page_event=Initiate Search"),window.location.href=window.location.protocol+"//"+window.location.hostname+t}e.addEventListener("click",r,!1),n.addEventListener("keyup",(function(e){13===e.keyCode&&r(e),n.value.length>2?c(n):u(n)}),!1),window.addEventListener("click",(function(e){e.target instanceof Element&&!function(e,t){var n=document.querySelector("#"+t);if(!n)return null;if(e===n)return e;var r=e.parentElement;for(;null!=r;){if(null!=r.id&&r.id===t)return r;r=r.parentElement}return null}(e.target,"suggested-search")&&u(n)}),!1)}()}})();